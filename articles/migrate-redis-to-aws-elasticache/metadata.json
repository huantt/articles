{"url":"https://dev.to/jacktt/migrate-redis-to-aws-elasticache-8bl","slug":"migrate-redis-to-aws-elasticache","title":"Migrate Redis to AWS ElastiCache","description":"How to Migrate Redis from One Server to Another   Starting from Redis version 5.0.0, Redis...","body_markdown":"## How to Migrate Redis from One Server to Another\n\nStarting from Redis version 5.0.0, Redis supports the `REPLICAOF` command, which assists in migrating data by making the destination Redis server a replica of the source Redis server. You can perform this migration with just a few simple steps:\n\n**Step 1**: Make the destination Redis server a replica of the source Redis server by running the following command:\n```shell\nREPLICAOF host port\n```\n\n**Step 2**: Transform the destination Redis server into a master server by executing the following command:\n```shell\nREPLICAOF NO ONE\n```\n\nThat's it!\n\n## AWS ElastiCache does not support REPLICAOF\nWhen migrating Redis, we encountered a struggle as `AWS Elasticache` restricts access to certain commands, including `\"MIGRATE\"` and `\"REPLICAOF\"`.\n\n## Solution\nI discovered a repository written in Go that helped us address this issue by running a one-time application.\nIt appeared promising, but it hadn't been updated for several years. I identified some problems:\n- It used LPOP, which resulted in the removal of list elements from the \"From Redis Instance.\"\n- It ran in a single thread, causing significant delays in migrating large records.\n- It did not support certain key types, including Set and SortedSet.\n\nI forked the repository and made the necessary fixes \u0026 improvements. \n\n## Usage\n**Step 1**: Create config file\n`config.yaml`\n```yaml\nold_redis:\n  host: localhost # IP redis server\n  port: 6379 # Port redis server\n  password: \"\" # Password of redis server, leave empty if there is no password\n\nnew_redis:\n  host: localhost\n  port: 6380\n  password: \"\"\n\nmigration_databases: [0,1,2,3,4,5,6,7,8] # Databases list which needs to be migrated\nconcurrent_workers: 5\nclear_before_migration: true\n```\n\n**Step 2**: Run using Docker\n\n```shell\ndocker run \\\n--rm \\\n-v /path/to/config.yaml:/data/config.yaml \\\n huanttok/redis-migrator migrate \\\n --config.file=/data/config.yaml \\\n--log.level=debug\n```\n\n(_To call `localhost` while using Docker, use `host.docker.internal` instead._\n\n## Source code\n{% github: https://github.com/huantt/redis-migrator %}\n","body_html":"\u003ch2\u003e\n  \u003ca name=\"how-to-migrate-redis-from-one-server-to-another\" href=\"#how-to-migrate-redis-from-one-server-to-another\"\u003e\n  \u003c/a\u003e\n  How to Migrate Redis from One Server to Another\n\u003c/h2\u003e\n\n\u003cp\u003eStarting from Redis version 5.0.0, Redis supports the \u003ccode\u003eREPLICAOF\u003c/code\u003e command, which assists in migrating data by making the destination Redis server a replica of the source Redis server. You can perform this migration with just a few simple steps:\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eStep 1\u003c/strong\u003e: Make the destination Redis server a replica of the source Redis server by running the following command:\u003cbr\u003e\n\u003c/p\u003e\n\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003eREPLICAOF host port\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\u003cp\u003e\u003cstrong\u003eStep 2\u003c/strong\u003e: Transform the destination Redis server into a master server by executing the following command:\u003cbr\u003e\n\u003c/p\u003e\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003eREPLICAOF NO ONE\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\u003cp\u003eThat's it!\u003c/p\u003e\n\u003ch2\u003e\n  \u003ca name=\"aws-elasticache-does-not-support-replicaof\" href=\"#aws-elasticache-does-not-support-replicaof\"\u003e\n  \u003c/a\u003e\n  AWS ElastiCache does not support REPLICAOF\n\u003c/h2\u003e\n\n\u003cp\u003eWhen migrating Redis, we encountered a struggle as \u003ccode\u003eAWS Elasticache\u003c/code\u003e restricts access to certain commands, including \u003ccode\u003e\"MIGRATE\"\u003c/code\u003e and \u003ccode\u003e\"REPLICAOF\"\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003e\n  \u003ca name=\"solution\" href=\"#solution\"\u003e\n  \u003c/a\u003e\n  Solution\n\u003c/h2\u003e\n\n\u003cp\u003eI discovered a repository written in Go that helped us address this issue by running a one-time application.\u003cbr\u003e\nIt appeared promising, but it hadn't been updated for several years. I identified some problems:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eIt used LPOP, which resulted in the removal of list elements from the \"From Redis Instance.\"\u003c/li\u003e\n\u003cli\u003eIt ran in a single thread, causing significant delays in migrating large records.\u003c/li\u003e\n\u003cli\u003eIt did not support certain key types, including Set and SortedSet.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eI forked the repository and made the necessary fixes \u0026amp; improvements. \u003c/p\u003e\n\u003ch2\u003e\n  \u003ca name=\"usage\" href=\"#usage\"\u003e\n  \u003c/a\u003e\n  Usage\n\u003c/h2\u003e\n\n\u003cp\u003e\u003cstrong\u003eStep 1\u003c/strong\u003e: Create config file\u003cbr\u003e\n\u003ccode\u003econfig.yaml\u003c/code\u003e\u003cbr\u003e\n\u003c/p\u003e\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight yaml\"\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eold_redis\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elocalhost\u003c/span\u003e \u003cspan class=\"c1\"\u003e# IP redis server\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e6379\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Port redis server\u003c/span\u003e\n  \u003cspan class=\"na\"\u003epassword\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Password of redis server, leave empty if there is no password\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003enew_redis\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elocalhost\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e6380\u003c/span\u003e\n  \u003cspan class=\"na\"\u003epassword\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003emigration_databases\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003e0\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e1\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e2\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e3\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e4\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e5\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e6\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e7\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e\u003cspan class=\"nv\"\u003e8\u003c/span\u003e\u003cspan class=\"pi\"\u003e]\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Databases list which needs to be migrated\u003c/span\u003e\n\u003cspan class=\"na\"\u003econcurrent_workers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5\u003c/span\u003e\n\u003cspan class=\"na\"\u003eclear_before_migration\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\u003cp\u003e\u003cstrong\u003eStep 2\u003c/strong\u003e: Run using Docker\u003cbr\u003e\n\u003c/p\u003e\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003edocker run \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--rm\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e-v\u003c/span\u003e /path/to/config.yaml:/data/config.yaml \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n huanttok/redis-migrator migrate \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n \u003cspan class=\"nt\"\u003e--config\u003c/span\u003e.file\u003cspan class=\"o\"\u003e=\u003c/span\u003e/data/config.yaml \u003cspan class=\"se\"\u003e\\\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e--log\u003c/span\u003e.level\u003cspan class=\"o\"\u003e=\u003c/span\u003edebug\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\u003cp\u003e(\u003cem\u003eTo call \u003ccode\u003elocalhost\u003c/code\u003e while using Docker, use \u003ccode\u003ehost.docker.internal\u003c/code\u003e instead.\u003c/em\u003e\u003c/p\u003e\n\u003ch2\u003e\n  \u003ca name=\"source-code\" href=\"#source-code\"\u003e\n  \u003c/a\u003e\n  Source code\n\u003c/h2\u003e\n\n\n\u003cdiv class=\"ltag-github-readme-tag\"\u003e\n  \u003cdiv class=\"readme-overview\"\u003e\n    \u003ch2\u003e\n      \u003cimg src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--A9-wwsHG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_800/https://dev.to/assets/github-logo-5a155e1f9a670af7944dd5e12375bc76ed542ea80224905ecaf878b9157cdefc.svg\" alt=\"GitHub logo\" loading=\"lazy\"\u003e\n      \u003ca href=\"https://github.com/huantt\"\u003e\n        huantt\n      \u003c/a\u003e / \u003ca style=\"font-weight: 600;\" href=\"https://github.com/huantt/redis-migrator\"\u003e\n        redis-migrator\n      \u003c/a\u003e\n    \u003c/h2\u003e\n    \u003ch3\u003e\n      This tool is designed to migrate Redis database keys from one server to another, addressing the pain point of missing 'REPLICAOF' on AWS ElastiCache\n    \u003c/h3\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"ltag-github-body\"\u003e\n    \n\u003cdiv id=\"readme\" class=\"md\" data-path=\"README.md\"\u003e\u003carticle class=\"markdown-body entry-content container-lg\" itemprop=\"text\"\u003e\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch2 class=\"heading-element\" dir=\"auto\"\u003eAbout\u003c/h2\u003e\n\u003c/div\u003e\n\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://github.com/opstree/redis-migration\"\u003e\u003cimg src=\"https://github.com/opstree/redis-migration/workflows/CI%20Pipeline/badge.svg\" alt=\"GitHub Super-Linter\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"http://golang.org\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/1a542f6b56ca1a5942776be06558e2f253c15ad8ef81e6ddd1f0531062168233/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d476f2d3166343235662e737667\" alt=\"made-with-Go\" data-canonical-src=\"https://img.shields.io/badge/Made%20with-Go-1f425f.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/74b3fa471744e5e7b38fbcd4661f99e11fa997602bd890de27fb5b93dadc1d0f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f676f2d6d6f642f676f2d76657273696f6e2f6875616e74742f72656469732d6d69677261746f72\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/74b3fa471744e5e7b38fbcd4661f99e11fa997602bd890de27fb5b93dadc1d0f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f676f2d6d6f642f676f2d76657273696f6e2f6875616e74742f72656469732d6d69677261746f72\" alt=\"GitHub go.mod Go version\" data-canonical-src=\"https://img.shields.io/github/go-mod/go-version/huantt/redis-migrator\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://goreportcard.com/report/github.com/opstree/redis-migration\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/a53c55b88f893c374f7658c57140ee541c9c90d82a95b9e8ad47237302dfb822/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f6f7073747265652f72656469732d6d6967726174696f6e\" alt=\"Go Report Card\" data-canonical-src=\"https://goreportcard.com/badge/github.com/opstree/redis-migration\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003ca href=\"https://github.com/huantt/redis-migratorLICENSE\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/db9dfde8049c5d66ba62fde707d2cfb30e26f9f26ff274c3442c0aec1ec410a4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e737667\" alt=\"Apache License\" data-canonical-src=\"https://img.shields.io/badge/License-Apache%202.0-blue.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/62f4744391dad4c1f065d91bf7bb3b940648966383159e81ccdbfa75edd965a5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f6f7073747265652f72656469732d6d6967726174696f6e\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/62f4744391dad4c1f065d91bf7bb3b940648966383159e81ccdbfa75edd965a5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f6f7073747265652f72656469732d6d6967726174696f6e\" alt=\"GitHub release (latest by date)\" data-canonical-src=\"https://img.shields.io/github/v/release/opstree/redis-migration\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe Redis Migrator is a Golang-based tool designed to migrate database keys from one Redis cluster to another.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSince Redis \u003ccode\u003e5.0.0\u003c/code\u003e, you can use \u003ccode\u003eREPLICAOF\u003c/code\u003e command to replicate data from one redis to another.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThis application is developed for the older version of Redis or AWS ElastiCache instances that do not support \u003ccode\u003eREPLICAOF\u003c/code\u003e command (\u003ca href=\"https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/RestrictedCommands.html\" rel=\"nofollow\"\u003eAWS docs\u003c/a\u003e).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e(\u003cem\u003eThis repo is forked from \u003ca href=\"https://github.com/opstree/redis-migration\"\u003eopstree/redis-migration\u003c/a\u003e. The original repo has been inactive for over 3 years, so I decided to continue its development without creating pull requests.)\u003c/em\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch3 class=\"heading-element\" dir=\"auto\"\u003eSupported key types:\u003c/h3\u003e\n\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eString\u003c/li\u003e\n\u003cli\u003eHash\u003c/li\u003e\n\u003cli\u003eList\u003c/li\u003e\n\u003cli\u003eSet\u003c/li\u003e\n\u003cli\u003eSorted Set\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch2 class=\"heading-element\" dir=\"auto\"\u003eUsage\u003c/h2\u003e\n\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch3 class=\"heading-element\" dir=\"auto\"\u003eInstallation\u003c/h3\u003e\n\n\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch4 class=\"heading-element\" dir=\"auto\"\u003eUsing Go\u003c/h4\u003e\n\n\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto js-code-highlight\" dir=\"auto\" data-snippet-clipboard-copy-content=\"go install github.com/huantt/redis-migrator@latest\"\u003e\n\u003cpre\u003ego install github.com/huantt/redis-migrator@latest\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch4 class=\"heading-element\" dir=\"auto\"\u003eUsing Docker\u003c/h4\u003e\n\n\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto js-code-highlight\" dir=\"auto\" data-snippet-clipboard-copy-content=\"docker run \\\n--rm \\\n-v /path/to/migrate.yaml:/data/migrate.yaml \\\n huanttok/redis-migrator migrate \\\n --config.file=/data/migrate.yaml \\\n--log.level=debug\"\u003e\n\u003cpre\u003edocker run \\\n--rm \\\n-v /path/to/migrate.yaml:/data/migrate.yaml \\\n huanttok/redis-migrator migrate \\\n --config.file=/data/migrate.yaml \\\n--log.level=debug\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eTo call \u003ccode\u003elocalhost\u003c/code\u003e while using Docker, use \u003ccode\u003ehost.docker.internal\u003c/code\u003e instead.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\n\u003ch3 class=\"heading-element\" dir=\"auto\"\u003eConfiguration\u003c/h3\u003e\n\n\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eFor using redis-migrator, we have to create a configuration file and provide some needful information to it. An exampleâ€¦\u003c/p\u003e\u003c/article\u003e\u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"gh-btn-container\"\u003e\u003ca class=\"gh-btn\" href=\"https://github.com/huantt/redis-migrator\"\u003eView on GitHub\u003c/a\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\n","thumbnail":"","author":{"id":"jacktt","name":"JackTT"},"created_at":"2023-10-19T13:53:37Z","updated_at":null,"tags":[]}